{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export { getPictures };\n\nconst API_KEY = '44262674-4191f931eb8b9eeb7747e3c1c';\n\nfunction getPictures(value) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n","export { createMarkup, showLoader, hideLoader, loader, gallery, lightbox };\n\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.div-loader');\n\nloader.style.display = 'none';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  caption: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction createMarkup(images) {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        tags,\n        webformatURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n              <a href=\"${largeImageURL}\" class=\"gallery-item\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\">\n                <div class=\"info\">\n                  <p><b>Likes:</b> ${likes}</p>\n                  <p><b>Views:</b> ${views}</p>\n                  <p><b>Comments:</b> ${comments}</p>\n                  <p><b>Downloads:</b> ${downloads}</p>\n                </div>\n              </a>\n          `;\n      }\n    )\n    .join('');\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  setTimeout(() => {\n    loader.style.display = 'none';\n  }, 2000);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getPictures } from './js/pixabay-api';\nimport {\n  createMarkup,\n  showLoader,\n  hideLoader,\n  gallery,\n  lightbox,\n} from './js/render-function';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  gallery.innerHTML = '';\n\n  const inputValue = e.target.elements.searchQuery.value;\n\n  if (!inputValue.length) {\n    iziToast.error({\n      title: 'Error',\n      message: '\"Sorry, input is empty\"',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n\n  getPictures(inputValue)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            '\"Sorry, there are no images matching your search query. Please try again!\"',\n          position: 'topRight',\n        });\n        hideLoader();\n        return;\n      }\n      const markup = createMarkup(data.hits);\n      gallery.innerHTML = markup;\n      lightbox.refresh();\n      hideLoader();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'An error occurred while fetching images. Please try again later.',\n        position: 'topRight',\n      });\n      hideLoader();\n      console.error('Error fetching pictures:', error);\n    });\n});\n"],"names":["API_KEY","getPictures","value","BASE_URL","END_POINT","params","url","response","gallery","loader","lightbox","SimpleLightbox","createMarkup","images","largeImageURL","tags","webformatURL","likes","views","comments","downloads","showLoader","hideLoader","form","e","inputValue","iziToast","data","markup","error"],"mappings":"6vBAEA,MAAMA,EAAU,qCAEhB,SAASC,EAAYC,EAAO,CAC1B,MAAMC,EAAW,sBACXC,EAAY,QAEZC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,aAAa,EAEnDA,EAAO,MAAM,QAAU,OAEvB,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,QAAS,GACT,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAaC,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,KAAAC,EACA,aAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,yBACUN,CAAa;AAAA,4BACVE,CAAY,UAAUD,CAAI;AAAA;AAAA,qCAEjBE,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA;AAAA,WAK7C,EACA,KAAK,EAAE,CACZ,CAEA,SAASC,GAAa,CACpBZ,EAAO,MAAM,QAAU,OACzB,CAEA,SAASa,GAAa,CACpB,WAAW,IAAM,CACfb,EAAO,MAAM,QAAU,MACxB,EAAE,GAAI,CACT,CC1CA,MAAMc,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAEhBhB,EAAQ,UAAY,GAEpB,MAAMiB,EAAaD,EAAE,OAAO,SAAS,YAAY,MAEjD,GAAI,CAACC,EAAW,OAAQ,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,IAEApB,EAAYwB,CAAU,EACnB,KAAKE,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBD,EAAS,MAAM,CACb,MAAO,QACP,QACE,6EACF,SAAU,UACpB,CAAS,EACDJ,IACA,MACD,CACD,MAAMM,EAAShB,EAAae,EAAK,IAAI,EACrCnB,EAAQ,UAAYoB,EACpBlB,EAAS,QAAO,EAChBY,GACN,CAAK,EACA,MAAMO,GAAS,CACdH,EAAS,MAAM,CACb,MAAO,QACP,QACE,mEACF,SAAU,UAClB,CAAO,EACDJ,IACA,QAAQ,MAAM,2BAA4BO,CAAK,CACrD,CAAK,CACL,CAAC"}